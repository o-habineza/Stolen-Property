<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      lang="en"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
    <!--<![endif]-->
    <!-- BEGIN HEAD -->

    <h:head>
        <meta charset="utf-8" />
        <title>Edit user</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta content="width=device-width, initial-scale=1" name="viewport" />
        <meta content="" name="description" />
        <meta content="" name="author" />
        <f:metadata>
            <f:event listener="#{login.verifyLogin()}" type="preRenderView"></f:event>
        </f:metadata>
        <!-- BEGIN GLOBAL MANDATORY STYLES -->
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&amp;subset=all" rel="stylesheet" type="text/css" />
        <link href="resources/assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
        <link href="resources/assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css" />
        <link href="resources/assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="resources/assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css" />
        <!-- END GLOBAL MANDATORY STYLES -->
        <!-- BEGIN PAGE LEVEL PLUGINS -->
        <link href="resources/assets/global/plugins/select2/css/select2.min.css" rel="stylesheet" type="text/css" />
        <link href="resources/assets/global/plugins/select2/css/select2-bootstrap.min.css" rel="stylesheet" type="text/css" />
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN THEME GLOBAL STYLES -->
        <link href="resources/assets/global/css/components.min.css" rel="stylesheet" id="style_components" type="text/css" />
        <link href="resources/assets/global/css/plugins.min.css" rel="stylesheet" type="text/css" />
        <!-- END THEME GLOBAL STYLES -->
        <!-- BEGIN PAGE LEVEL STYLES -->
        <link href="resources/assets/pages/css/login.min.css" rel="stylesheet" type="text/css" />
        <!-- END PAGE LEVEL STYLES -->
        <!-- BEGIN THEME LAYOUT STYLES -->
        <!-- END THEME LAYOUT STYLES -->
        <link rel="shortcut icon" href="favicon.ico" /> </h:head>
    <!-- END HEAD -->

    <body class=" login">
        <!-- BEGIN LOGO -->
        <div class="logo">
            <a href="homePage.xhtml">
                <!--<img src="resources/assets/pages/img/logo-big.png" alt="" />--> 
                <img src="resources/assets/pages/img/Logo_police.png" alt="" />
            </a>
        </div>
        <!-- END LOGO -->
        <!-- BEGIN LOGIN -->
        <div class="content">
            <f:view>
                <!-- BEGIN LOGIN FORM -->
                <h:form class="login-form" enctype="multipart/form-data">
                    <!--<h:messages styleClass="alert-danger"/>-->
                    <h3 class="form-title font-green">Edit User</h3>
                  <p class="hint"> Examine carefully the following details below: </p>
                   <div class="form-group">
                        <!--<label class="control-label">First Name</label>-->
                        <h:inputText class="form-control placeholder-no-fix" 
                                     id="fname" value="#{usrContrl.users.firstName}" 
                                     required="true"
                                     requiredMessage="First Name is required"
                                     pt:placeholder="First Name"/>
                        <h:message for="fname" style="color: red"/>
                    </div>
                    <div class="form-group">
                        <!--<label class="control-label">Last Name</label>-->
                        <h:inputText id="lname" value="#{usrContrl.users.lastName}"
                                     required="true"
                                     requiredMessage="Last Name is required"
                                     class="form-control placeholder-no-fix"
                                     pt:placeholder="Last Name"/> 
                        <h:message for="lname" style="color: red"/>
                    </div>
                <div class="form-group">
                        <!--<h:outputLabel class="control-label" value="Province"/>-->
                        <h:selectOneMenu class="form-control" id="province_selection" value="#{distContrl.subProvinceId}"
                                         required="true"
                                         requiredMessage="Please select your province">
                            <f:selectItem itemLabel="Select a province..." />
                            <f:ajax listener="#{distContrl.loadedDistricts()}" render="district_selection" /> 
                            <f:selectItems value="#{provContrl.allProvinces}" var="province" itemValue="#{province.provinceID}" itemLabel="#{province.provinceName}"/>
                        </h:selectOneMenu>
                        <h:message for="province_selection" style="color: red"/>
                    </div>
                <div class="form-group">
                        <!--<h:outputLabel class="control-label" value="District"/>-->
                        <h:selectOneMenu class="form-control" id="district_selection" value="#{sectContrl.subDistrictId}"
                                         required="true"  
                                         requiredMessage="Please select your district">                                         
                            <f:selectItem itemLabel="Select a district..."/>
                            <f:ajax listener="#{sectContrl.loadedSectors()}" render="sector_selection"/>
                            <f:selectItems value="#{distContrl.districtNames}" var="district" itemValue="#{district.districtID}" itemLabel="#{district.districtName}"/>                          
                        </h:selectOneMenu>
                        <h:message for="district_selection" style="color: red"/>
                    </div>
                    <div class="form-group">
                        <!--<h:outputLabel class="control-label" value="Sectors"/>-->
                        <h:selectOneMenu class="form-control" id="sector_selection" value="#{usrContrl.users.address}"
                                         required="true"
                                         requiredMessage="Please select your sector">
                            <f:selectItem itemLabel="Select a Sector..." />    
                            <f:ajax listener="#{sectContrl.loadedSectors()}"/>
                            <f:selectItems value="#{sectContrl.sectorNames}" var="sector" itemValue="#{sector.sectorID}" itemLabel="#{sector.sectorName}"/>                          

                        </h:selectOneMenu> 
                        <h:message for="sector_selection" style="color: red"/>
                    </div>

                    <div class="form-group">
                        <!--<label class="control-label">Email</label>-->
                        <h:inputText class="form-control placeholder-no-fix" 
                                     id="eml" 
                                     value="#{usrContrl.users.email}" 
                                     required="true"
                                     requiredMessage="Please enter your email address"
                                     validatorMessage="Invalid email format"
                                     pt:placeholder="Email">                            
                            <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"/>
                        </h:inputText>
                        <h:message for="eml" style="color: red"/>
                    </div>
                    <div class="form-group">
                        <!--<label class="control-label">Phone</label>-->
                        <h:inputText class="form-control placeholder-no-fix"
                                     id="phone" 
                                     value="#{usrContrl.users.phoneNumber}" 
                                     required="true"
                                     requiredMessage="Phone Number is required"
                                     validatorMessage="Phone Number should be of 10 digits"
                                     pt:placeholder="Phone Number"> 
                            <f:validateRegex pattern="\d{10}"/>
                        </h:inputText>
                        <h:message for="phone" style="color: red"/>
                    </div>
                   <p class="hint"> Enter your account details below: </p>
                    <div class="form-group">
                        <!--<label class="control-label">Username</label>-->
                        <h:inputText class="form-control placeholder-no-fix"
                                     id="usrname"
                                     value="#{usrContrl.users.username}" 
                                     required="true"
                                     requiredMessage="Username is required"
                                     pt:placeholder="Username"/>
                        <h:message for="usrname" style="color: red"/>
                    </div>
                    <div class="form-group">
                        <!--<label class="control-label">Password</label>-->
                        <h:inputSecret class="form-control placeholder-no-fix"
                                       id="pswd"
                                       value="#{usrContrl.users.password}" 
                                       required="true"
                                       requiredMessage="Password is required"
                                       validatorMessage="Password should be from 6 characters"
                                       pt:placeholder="Password">                            
                            <f:validateLength minimum="6"/>                            
                        </h:inputSecret>
                        <h:message for="pswd" style="color: red"/>
                    </div>
                    <div class="form-actions">
                        <label > </label>
                        <h:commandButton value="Update Account" action="#{usrContrl.save()}" 
                                         id="register-submit-btn" class="btn btn-success uppercase pull-right"/>
                    </div>
                    
                </h:form>

                <!-- END LOGIN FORM -->

            </f:view>
            

           

        </div>
        <div class="copyright"> 2017 © Rwanda National Police. </div>
        <!--[if lt IE 9]>
<script src="resources/assets/global/plugins/respond.min.js"></script>
<script src="resources/assets/global/plugins/excanvas.min.js"></script> 
<![endif]-->
        <!-- BEGIN CORE PLUGINS -->
        <script src="resources/assets/global/plugins/jquery.min.js" type="text/javascript"></script>
        <script src="resources/assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="resources/assets/global/plugins/js.cookie.min.js" type="text/javascript"></script>
        <script src="resources/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
        <script src="resources/assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
        <script src="resources/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
        <!-- END CORE PLUGINS -->
        <!-- BEGIN PAGE LEVEL PLUGINS -->
        <script src="resources/assets/global/plugins/jquery-validation/js/jquery.validate.min.js" type="text/javascript"></script>
        <script src="resources/assets/global/plugins/jquery-validation/js/additional-methods.min.js" type="text/javascript"></script>
        <script src="resources/assets/global/plugins/select2/js/select2.full.min.js" type="text/javascript"></script>
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN THEME GLOBAL SCRIPTS -->
        <script src="resources/assets/global/scripts/app.min.js" type="text/javascript"></script>
        <!-- END THEME GLOBAL SCRIPTS -->
        <!-- BEGIN PAGE LEVEL SCRIPTS -->
        <script src="resources/assets/pages/scripts/login.min.js" type="text/javascript"></script>
        <!-- END PAGE LEVEL SCRIPTS -->
        <!-- BEGIN THEME LAYOUT SCRIPTS -->
        <!-- END THEME LAYOUT SCRIPTS -->
        <!--<script src="resources/js/jquery-3.0.0.min.js" type="text/javascript"></script>-->
    </body>

</html>
